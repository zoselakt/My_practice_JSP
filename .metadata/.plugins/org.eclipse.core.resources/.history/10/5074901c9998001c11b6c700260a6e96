<%@ page language="java" contentType="text/html; charset=UTF-8"
    pageEncoding="UTF-8"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title> 회원가입 </title>
</head>
<body>
	<form action="">
		아이디<input type="text" name="id" id="id">
		<input type="button" onclick="checkId()">
		<p id="check"></p>
		비밀번호<input type="password" name="pw">
	</form>
</body>
	<script>
		function checkId() {
			let id = document.getElementById("id").value;
			
			var xhr = new XMLHttpRequest();
			
			xhr.open("POST", "request_ajax.jsp", true);
			xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
			
			xhr.onreadystatechange = function(){
				if(xhr.readyState == XMLHttpRequest.DONE && xhr.status == 200){
					if(responseText.trim() == '성공'){
						p.innerHTML = "사용가능한 아이디 입니다.";
					}
				}
			}
		}
	
	</script>
</html>